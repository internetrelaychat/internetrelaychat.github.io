(function(){function e(e,t){var n=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",!n),t.hidden=!t.hidden}var t=document.querySelectorAll("[data-expands]");Array.prototype.forEach.call(t,function(t){var n=document.getElementById(t.getAttribute("data-expands"));t.addEventListener("click",function(){e(t,n)})})})(),function(){var t,e=document.getElementById("menu-button");e&&(t=document.getElementById("patterns-list"),e.addEventListener("click",function(){var e=this.getAttribute("aria-expanded")==="true";this.setAttribute("aria-expanded",!e)}))}(),function(){window.onbeforeunload=function(){var t,e=document.getElementById("patterns-nav");e&&(t=e.scrollTop,localStorage.setItem("scrollPoint",t))},window.addEventListener("DOMContentLoaded",function(){document.getElementById("patterns-nav")&&(window.location.href.indexOf("patterns/")!==-1?document.getElementById("patterns-nav").scrollTop=parseInt(localStorage.getItem("scrollPoint")):document.getElementById("patterns-nav").scrollTop=0)})}(),function(){var e=document.querySelectorAll("pre, .code-annotated");Array.prototype.forEach.call(e,function(e){e.querySelector("code")&&(e.setAttribute("role","region"),e.setAttribute("aria-label","code sample"),e.scrollWidth>e.clientWidth&&e.setAttribute("tabindex","0"))})}(),function(){function t(){var t,s,o=e.value.toUpperCase(),a=document.getElementById("list"),n=a.getElementsByTagName("li");for(i=0;i<n.length;i++)t=n[i],s=t.innerText.toUpperCase(),s.indexOf(o)>-1?t.style.display="":t.style.display="none"}var e=document.getElementById("search");e&&e.addEventListener("keyup",t)}(),function(){var t=function(){var s,a,r=e.value.toUpperCase(),o=document.getElementById("ascii_gallery");if(e.value.length==0){o.innerHTML=asciis,o.style.display="",document.getElementById("pagination").style.display="";return}if(e.value.length>2){o.innerHTML="",document.getElementById("pagination").style.display="none";for(i=0;i<ascii_list.length;i++)s=ascii_list[i],a=s.toUpperCase(),a.indexOf(r)>-1&&(o.innerHTML+='<div class="ascii"><a href="/ascii/'+s.toLowerCase().replace(/ /g,"-")+'"><img src="/ascii/sshot/thumb/'+s+'.png" loading="lazy"/><span class="caption">'+s+"</span></a></div>")}},e=document.getElementById("ascii_search");e&&e.addEventListener("keyup",t.bind(event,ascii_list),!1)}();var BOLD="",COLOR="",HEX_COLOR="",RESET="",REVERSE="",ITALIC="",UNDERLINE="",STRIKETHROUGH="",MONOSPACE="",color_rx=/^(\d{1,2})(?:,(\d{1,2}))?/,hex_color_rx=/^([0-9a-f]{6})(?:,([0-9a-f]{6}))?/i,control_codes_rx=/[\u0000-\u0009\u000B-\u001F]/g;function parse_style(e){var t,n,o,i,r,c,l,d,u,h,m,g,a=[],f=0,s=0,p=function(){l=!1,i=void 0,o=void 0,c=void 0,r=void 0,d=!1,u=!1,h=!1,m=!1};for(p(),n=function(){var n,p=e.slice(f,s),t=p.replace(control_codes_rx,"&nbsp;");t.length&&(n=a.length?a[a.length-1].end:0,a.push({bold:l,text_color:i,bg_color:o,hex_color:c,hex_bg_color:r,italic:d,underline:u,strikethrough:h,monospace:m,text:t,start:n,end:n+t.length})),f=s+1};s<e.length;){switch(e[s]){case RESET:n(),p();break;case BOLD:n(),l=!l;break;case COLOR:n(),t=e.slice(s+1).match(color_rx),t?(i=Number(t[1]),t[2]&&(o=Number(t[2])),s+=t[0].length,f=s+1):(i=void 0,o=void 0);break;case HEX_COLOR:n(),t=e.slice(s+1).match(hex_color_rx),t?(c=t[1].toUpperCase(),t[2]&&(r=t[2].toUpperCase()),s+=t[0].length,f=s+1):(c=void 0,r=void 0);break;case REVERSE:{n(),g=o,o=i,i=g;break}case ITALIC:n(),d=!d;break;case UNDERLINE:n(),u=!u;break;case STRIKETHROUGH:n(),h=!h;break;case MONOSPACE:n(),m=!m;break}s+=1}return n(),a}function convert_colors(e){for(var s,i,a,n=parse_style(e),o="",t=0;t<n.length;t++)s=[],n[t].bold&&s.push("irc-bold"),n[t].text_color!==void 0&&s.push("irc-"+n[t].text_color),n[t].bg_color!==void 0&&s.push("irc-bg"+n[t].bg_color),n[t].italic&&s.push("irc-italic"),n[t].underline&&s.push("irc-underline"),n[t].strikethrough&&s.push("irc-strikethrough"),n[t].monospace&&s.push("irc-monospace"),i=s.length?'class="'+s.join(" ")+'"':"",a=n[t].text,i.length?o+="<span "+i+">"+a+"</span>":o+=a;return o}function html_escape(e){return e&&(e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&#x27;"),e=e.replace(/\//g,"&#x2F;"),e=e.replace(/ /g,"&nbsp;"),e)}function render_art(e){var t=new XMLHttpRequest;t.open("GET",e),t.onreadystatechange=function(){if(t.readyState==4&&t.status==200){art=t.responseText,raw.innerHTML=html_escape(art);for(var n,o=document.getElementById("irc"),s=art.split(`
`),e=0;e<s.length;e++)chatLine=convert_colors(html_escape(s[e])),n=document.createElement("li"),n.innerHTML=chatLine,n.setAttribute("id","chatLine-"+e),o.appendChild(n)}},t.send()}function clipboard(e){var t,n;document.body.createTextRange?(t=document.body.createTextRange(),t.moveToElementText(e),t.select()):window.getSelection&&(n=window.getSelection(),t=document.createRange(),t.selectNodeContents(e),n.removeAllRanges(),n.addRange(t));try{document.execCommand("copy")}catch{alert("unable to copy text")}}